<!DOCTYPE html>
<html>
  <head>
    <title>Home Page</title>
    <style>
      body {
        font-family: Arial, sans-serif;
        background: #f8f8f8;
        margin: 0;
        padding: 0;
      }
      h1 {
        color: #da0b0bf1;
        text-align: center;
        margin-top: 30px;
      }
      nav ul {
        list-style: none;
        padding: 0;
        display: flex;
        justify-content: center;
        gap: 20px;
      }
      nav li {
        display: inline;
      }
      nav a {
        text-decoration: none;
        color: #2c3e50;
        font-weight: bold;
        padding: 8px 16px;
        border-radius: 4px;
      }
      nav a:hover {
        background: #f1d4d4;
        color: #da0b0bf1;
      }
    </style>
  </head>
  <body>
    {% if user.is_authenticated %}
    <div
      style="
        position: absolute;
        top: 20px;
        right: 30px;
        display: flex;
        align-items: center;
        gap: 10px;
      "
    >
      <img
        src="{{ user.profile.picture.url|default:'/static/default-profile.png' }}"
        alt="Profile"
        style="
          width: 40px;
          height: 40px;
          border-radius: 50%;
          object-fit: cover;
          border: 2px solid #d35400;
        "
      />
      <span style="font-weight: bold; color: #d35400">{{ user.email }}</span>
      <form
        method="post"
        action="/logout/"
        style="display: inline; margin-left: 10px"
      >
        {% csrf_token %}
        <button
          type="submit"
          style="
            background: #da0b0bf1;
            color: #fff;
            padding: 6px 14px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
          "
        >
          Logout
        </button>
      </form>
    </div>
    {% endif %}
    <h1>CookerBook</h1>
    <nav>
      <ul>
        <li><a href="/recipes/">Recipes</a></li>
        <li><a href="/post/">Post</a></li>
        <li>
          {% if user.is_authenticated %}
          <a href="/profile/" id="profile-link">Profile</a>
          {% else %}
          <a href="#" id="profile-link" onclick="showLoginMessage(event)"
            >Profile</a
          >
          <div
            id="login-message"
            style="
              display: none;
              color: red;
              font-size: 14px;
              text-align: center;
              margin-top: 4px;
              position: absolute;
              right: 30px;
              top: 65px;
              background: #fff;
              border: 1px solid #d35400;
              border-radius: 6px;
              padding: 6px 12px;
              z-index: 100;
            "
          >
            You need to login first
          </div>
          {% endif %}
        </li>
        <li><a href="/login/">Login</a></li>
      </ul>
    </nav>
    <script>
      function showLoginMessage(e) {
        e.preventDefault();
        var msg = document.getElementById("login-message");
        msg.style.display = "block";
        setTimeout(function () {
          msg.style.display = "none";
        }, 2000);
      }
    </script>
  </body>
</html>
